## 약속잡기 서비스

### 용어

- 주최자(host): 약속 일정을 열어 신청을 받을수 있는 사람
- 손님(guest): host가 열어놓은 시간대로 약속 신청을 하는 사람
- 타임슬롯 : 호스트가 약속 신청을 받을 약속 시간대
- 부킹 : 호스트와 게스트가 맺은 약속으로 타임슬롯에 의존하는 단위
- 캘린더 :

### 개요

- 주최자가(host)가 제공하는 약속 시간대를 손님(guest)이 선택하여 약속을 잡는 서비스
- 주최자는 여러 시간대를 제시할 수 있으며, 손님은 그 중에서 편한 시간대를 선택할 수 있음

### 주요 기능

1. **캘린더 구현**

   - 연월 단위로 달력 표시
   - 과거로 이동 불가
   - 일자 선택할때 타임 슬롯 표시
   - 가용 가능한 타임슬롯이 있는지 여부 표시

2. **부킹생성:일정등록**

   - 타임슬롯 선택할때 가용 가능한지 검사 (중복검사)
   - 부킹 생성할때 중복 생성 검사
   - 일정기간 이후에는 부킹 불가 설정
   - 부킹 생성 후 구글 캘린더 동기화
   - 부킹 생성 후 알림 이메일 발송

3. **부킹취소**

4.

### 사용자별 캘린더 구분

- guest가 같은 시간대에 여러 host에게 부킹을 생성해서는 안됨

### 구글 캘린더 연동

- 호스트의 구글 캘린더에서 일정 가져오기
- 타임슬롯, 부킹 등록 단계마다 일어나야한다 (매번 가져오기때문에 서버에는 저장하지 않는다)
- 호스트의 구글 캘린더 일정 관리하기
- 부킹 생성시 구글 캘린더에 일정 등록
- 부킹 생성후 구글 캘린더에 일정을 등록할 때 게스트를 참여자로 초대
  (호스트가 구글 캘린더 api를이용하여 자신의 캘린더에 일정을 생성하고 해당 일정에 게스트를 초대)

### 소셜 로그인

- 구글 로그인
- 계정 인증
- 구글 캘린더 접근 권한은 하지 않음(구글 검수 필요)

## 도메인 모델

### 회원

_Entity_

#### 속성

- `id`
- `password`
- `username`
- `email`
- `is_host` : host 여부

### 사용자 소셜계정

- 사용자는 복수개의 소셜계정을 가질 수 있다.
  _Entity_

#### 속성

- `id`
- `user_id` : 회원 id
- `provider` : 소셜 제공자 (구글, 페이스북 등)
- `account_id` : 소셜 제공자에서 발급한 사용자 id

### 사용자 캘린더

_Entity_

#### 속성

- `id`
- `user_id` : 회원 id
- `topics` : Array 캘린더 주제
- `description` : 캘린더 설명
- `google_calendar_id` : 구글 캘린더 id

### 타임슬롯 (time slot)

_Entity_

#### 속성

- `id`
- `calendar_id` : 사용자 캘린더 id
- `start_date` : 시작 시간
- `end_date` : 종료 시간
- `weekdays` : Array<int> 요일

### 부킹

_Entity_

#### 속성

- `id`
- `user_id` : 회원 id (게스트)
- `timeslot_id` : 타임슬롯 id
- `when` : 약속 시간
- `topic` : 약속 주제
- `description` : 약속 설명
- `file`
